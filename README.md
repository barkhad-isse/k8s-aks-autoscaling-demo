# Kubernetes + AKS Autoscaling Demo (FastAPI)

## 1. Project Overview

This project is a small, end-to-end **cloud-native demo** that shows how to:

- Build and containerize a **FastAPI** application  
- Run it on a **local Kubernetes cluster (k3d)** using **Helm**  
- Push the container image to **Docker Hub**  
- Deploy the same Helm chart to **Azure Kubernetes Service (AKS)**  
- Configure **resource requests/limits** and **health probes**  
- Enable **Horizontal Pod Autoscaler (HPA)** and scale pods under load  

Itâ€™s designed as a portfolio piece to demonstrate practical Kubernetes + Azure skills, not just theory.

---

## 2. Architecture

### 2.1 Local (k3d) View

Local environment (Ubuntu VM):

- FastAPI app running in a container
- Local Docker image: `k8s-demo-app:local`
- Kubernetes cluster provided by **k3d**
- Application deployed via **Helm chart**
- **HPA** configured to scale the deployment based on CPU
- Synthetic load generated by a BusyBox pod making continuous HTTP requests

### 2.2 Cloud (AKS) View

Cloud environment (Azure):

- Docker image pushed to **Docker Hub**:  
  `isse1234/k8s-demo-app:v1`
- Azure resource group: `rg-k8s`
- AKS cluster: `k8s-demo-aks` in region `switzerlandnorth`
- Cluster credentials merged into local `kubectl` config
- Same Helm chart deployed to AKS (with image values changed to Docker Hub)
- Liveness & readiness probes hitting `/health` on port `8000`
- HPA (`k8s-demo-aks-hpa`) attached to the AKS deployment
- Load generated by a `load-generator` pod to trigger scaling

> **Note:** Azure Container Registry (ACR) was blocked on this Azure for Students subscription by policy (`RequestDisallowedByAzure`), so Docker Hub was used as the registry instead.

---

## 3. Tech Stack

- **Application:** Python, FastAPI, Uvicorn  
- **Containerization:** Docker  
- **Local Kubernetes:** k3d (Kubernetes in Docker)  
- **Kubernetes Tooling:** kubectl, Helm  
- **Cloud Provider:** Microsoft Azure (Azure Kubernetes Service - AKS)  
- **Registry:** Docker Hub (public repo)  
- **Autoscaling:** Kubernetes HPA (HorizontalPodAutoscaler, CPU-based)  
